<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <title>ToDo List</title>
  <link rel="stylesheet" href="to-do-styles.css"/>
  <link rel="stylesheet" href="bottom-navbar.css"/>
</head>
<body>
  <div class="maincard">
    <div class="todo-container">
      <div class="headercard">
        <div class="header-content">
          <h2>Todo List</h2>
        </div>
      </div>

      <div class="inputsection">
        <input type="text" id="taskinput" placeholder="Write your Task" maxlength="100"/>
        <button id="addtaskbtn" type="button">+</button>
      </div>
      
      <button id="clearallbtn" class="clearallbtn" type="button">Clear All</button>

      <ul id="tasklist" class="tasklist" role="list"></ul>
    </div>
  </div>

  <script>
    const taskInput = document.getElementById("taskinput");
    const addBtn = document.getElementById("addtaskbtn");
    const taskList = document.getElementById("tasklist");
    const clearAllBtn = document.getElementById("clearallbtn");

    // Load tasks from localStorage
    const savedTasks = JSON.parse(localStorage.getItem("tasks")) || [];
    savedTasks.forEach(task => {
      const li = createTaskElement(task.text, task.done);
      taskList.appendChild(li);
    });

    // Add task event
    addBtn.addEventListener("click", addTask);
    taskInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        addTask();
      }
    });

    // Clear all tasks event
    clearAllBtn.addEventListener("click", () => {
      if (taskList.children.length === 0) return;
      if (confirm("Are you sure you want to clear all tasks?")) {
        taskList.innerHTML = "";
        saveTasks();
      }
    });

    function addTask() {
      const task = taskInput.value.trim();
      if (task === "") return;

      const li = createTaskElement(task, false);
      li.classList.add("new");
      taskList.appendChild(li);
      taskInput.value = "";
      saveTasks();
    }

    function createTaskElement(text, done) {
      const li = document.createElement("li");
      li.className = "taskitem";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = done;
      checkbox.addEventListener("change", () => {
        if (checkbox.checked) {
          li.classList.add("completed");
          span.classList.add("completed");
        } else {
          li.classList.remove("completed");
          span.classList.remove("completed");
        }
        saveTasks();
      });

      const span = document.createElement("span");
      span.textContent = text;
      span.className = "tasktext";

      const iconsDiv = document.createElement("div");
      iconsDiv.className = "icons";

      const deleteIcon = document.createElement("img");
      deleteIcon.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23b74b4b' viewBox='0 0 24 24'%3E%3Cpath d='M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z'/%3E%3C/svg%3E";
      deleteIcon.alt = "Delete";
      deleteIcon.addEventListener("click", (e) => {
        e.stopPropagation();
        li.remove();
        saveTasks();
      });

      iconsDiv.appendChild(deleteIcon);
      li.appendChild(checkbox);
      li.appendChild(span);
      li.appendChild(iconsDiv);

      if (done) {
        li.classList.add("completed");
        span.classList.add("completed");
      }

      return li;
    }

    function saveTasks() {
      const tasks = [];
      document.querySelectorAll("#tasklist li").forEach(li => {
        const checkbox = li.querySelector("input[type='checkbox']");
        const text = li.querySelector(".tasktext").textContent.trim();
        tasks.push({
          text: text,
          done: checkbox.checked
        });
      });
      localStorage.setItem("tasks", JSON.stringify(tasks));
    }

    // Update snake head direction based on movement
    function updateSnakeDirection(direction) {
        switch(direction) {
            case 'up': snakeHead.style.transform = 'rotate(-90deg)'; break;
            case 'down': snakeHead.style.transform = 'rotate(90deg)'; break;
            case 'left': snakeHead.style.transform = 'rotate(180deg)'; break;
            case 'right': snakeHead.style.transform = 'rotate(0deg)'; break;
        }
    }

    document.addEventListener('keydown', (e) => {
      if (!gameStarted && ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
          startGame();
      }
      // Handle movement
    });
  </script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    // Navigation functionality
    const homeBtn = document.getElementById('home-btn');
    const aboutBtn = document.getElementById('about-btn');
    const projectsBtn = document.getElementById('projects-btn');
    const skillsBtn = document.getElementById('skills-btn');
    
    // Set Projects as active since we're on ToDoList page
    projectsBtn.classList.add('active');
    
    // Handle button clicks
    homeBtn.addEventListener('click', () => {
        window.location.href = 'index.html';
    });
    
    aboutBtn.addEventListener('click', () => {
        window.location.href = 'index.html#about';
    });
    
    projectsBtn.addEventListener('click', () => {
        window.location.href = 'projects.html';
    });
    
    skillsBtn.addEventListener('click', () => {
        window.location.href = 'index.html#skills';
    });
});
</script>
<script src="bottom-navbar.js"></script>
</body>
</html>
